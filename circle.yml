dependencies:
  pre:
    - bash --version
    - sudo apt-get update -qq
    - sudo rm -rf /var/cache/apt/archives && sudo ln -s ~/.apt-cache /var/cache/apt/archives && mkdir -p ~/.apt-cache/partial
  override:
    - sudo apt-get install -qq valgrind libncurses5-dev libncursesw5-dev bc
  cache_directories:
    - "~/.apt-cache"

test:
  override:
    - git clone git@github.com:juschaef/libtowel.git ../libtowel
    - git clone git@github.com:yyang42/moulitest.git ../moulitest
    - make check_unit
    # - make check_leaks
    # - make check_libtowel
    - make check_ast
    - make check_use_case
    - make check_exit_code
